/*!
 * Copyright (c) 2022 Alexandr <re-knownout> knownout@hotmail.com
 * Licensed under the GNU Affero General Public License v3.0 License (AGPL-3.0)
 * https://github.com/re-knownout/lib
 */

@import url("https://necolas.github.io/normalize.css/8.0.1/normalize.css");
@import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500;700&display=swap');

* {
    font-family: 'Ubuntu', sans-serif;
    box-sizing: border-box;

    outline: none;

    &:not(input) {
        user-select: none;
    }
}

main.cpl-root {
    position: fixed;
    top: 0;

    left: 0;

    display: flex;
    overflow: hidden;

    flex-direction: row;
    box-sizing: border-box;

    width: 100%;
    height: 100%;

    section.cpl-objects-view {
        position: relative;
        display: flex;

        flex-direction: column;
        width: 25%;

        min-width: 340px;
        max-width: 420px;
        padding: 20px;

        background: rgba(#000, .1);

        gap: 10px;
    }

    section.cpl-object-editor {
        width: 100%;

        padding: 20px;

        background: rgba(#000, .05);
    }
}

// components

$green-gradient: linear-gradient(45deg, #3E725B, #549477);
$green-color-first: #3E725B;
$green-color-second: #549477;

@mixin clean {
    border: none;
    background: transparent;
}

@mixin transition { transition: 100ms ease all; }

@mixin text-ellipsis { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

div.interface {
    & > div.icon-holder, & > div.title > div.icon-holder {
        @include transition;

        width: 20px;
        height: 20px;

        margin-left: auto;
    }

    & > div.title {
        @include transition;

        position: relative;
        z-index: 2;

        display: flex;
        align-items: center;
        flex-direction: row;

        padding: 20px;
        cursor: pointer;

        & > span {
            @include text-ellipsis;

            position: relative;
            display: block;
        }
    }
}

div.interface.input, div.interface.input input { width: 100%; }

div.interface.dropdown {
    div.items { @include transition; overflow: hidden; }

    &:not(.open) > div.items { height: 0; }

    & > div.title {
        opacity: .94;

        color: #FFF;
        border-radius: 10px;
        background: $green-gradient;

        &:hover { opacity: .96; }
    }

    &.open {
        div.icon-holder {
            transform: rotate(180deg);
        }

        div.title {
            opacity: 1;
        }
    }

    div.items {
        position: relative;
        display: flex;

        flex-direction: column;
        transform: translateY(-10px);
        border-radius: 0 0 10px 10px;

        background: rgba(#000, .05);

        button.interface.dropdown-item {
            position: relative;
            @include clean;
            @include transition;

            padding: 20px;
            cursor: pointer;

            text-align: left;
            border-radius: 10px;

            &:not(.selected):hover {
                background: rgba(#000, .1);
            }

            &::before {
                @include transition;
                position: absolute;
                top: 20px;
                left: 20px;

                display: block;

                width: 5px;
                height: calc(100% - 40px);

                content: "";
                opacity: 0;

                border-radius: 2px;
                background: $green-gradient;
            }

            &.selected {
                padding-left: 35px;
                cursor: default;
                opacity: .65;

                &::before {
                    opacity: 1;
                }
            }

            &:first-child {
                margin-top: 10px;
            }
        }
    }
}

div.interface.input {
    position: relative;
    display: flex;

    flex-direction: row;

    div.input-holder {
        width: 100%;

        div.placeholder {
            @include transition;
            @include text-ellipsis;

            position: absolute;
            top: 0;
            left: 0;

            display: grid;

            width: 100%;
            height: 100%;

            padding: 20px;
            pointer-events: none;
            opacity: .75;

            place-items: center flex-start;
        }

        input {
            @include clean;
            @include transition;

            padding: 20px;

            border-radius: 10px;
            background: #FFF;

            &::selection {
                background-color: rgba($green-color-first, .4);
            }
        }
    }

    &.has-value div.input-holder {
        div.placeholder {
            font-size: 14px;
            transform: translateY(-10px);

            opacity: .6;
        }

        input {
            padding-top: 30px;
            padding-bottom: 10px;
        }
    }
}
